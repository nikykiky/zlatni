<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery UI</title>

	<style>
		.crvena {
			background-color: black
		}

		.green {
			background-color: green
		}

		#users tr {
			background-color: blue
		}

		label,
		input {
			display: block;
		}

		input.text {
			margin-bottom: 12px;
			width: 95%;
			padding: .4em;
		}

		fieldset {
			padding: 0;
			border: 0;
			margin-top: 25px;
		}

		h1 {
			font-size: 1.2em;
			margin: .6em 0;
		}

		div#users-contain {
			width: 350px;
			margin: 20px 0;
		}

		div#users-contain table {
			margin: 1em 0;
			border-collapse: collapse;
			width: 100%;
		}

		div#users-contain table td,
		div#users-contain table th {
			border: 1px solid #eee;
			padding: .6em 10px;
			text-align: left;
			background-color: white
		}

		.ui-dialog .ui-state-error {
			padding: .3em;
		}

		.validateTips {
			border: 1px solid transparent;
			padding: 0.3em;
		}

		#users tr .ui-selected {
			background-color: red
		}

		.draggable {
			width: 90px;
			height: 80px;
			padding: 5px;
			float: left;
			margin: 0 10px 10px 0;
			font-size: .9em;
		}

		.ui-widget-header p,
		.ui-widget-content p {
			margin: 0;
		}

		#snaptarget {
			height: 140px;
		}
	</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

</head>

<body>

	<div id="dialog-form" title="Create new user">
		<p class="validateTips">All form fields are required.</p>
		<form>
			<fieldset>
				<label for="name">Name</label>
				<input type="text" name="name" id="name" value="Jane Smith"
					class="text ui-widget-content ui-corner-all">
				<label for="email">Email</label>
				<input type="text" name="email" id="email" value="jane@smith.com"
					class="text ui-widget-content ui-corner-all">
				<label for="password">Password</label>
				<input type="password" name="password" id="password" value="xxxxxxx"
					class="text ui-widget-content ui-corner-all">

				<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
			</fieldset>
		</form>
	</div>



	<button id="create-user">Create new user</button>

	<button id="brisi_sve">Hide all pass</button>


	<div id="tab">
		<ul>
			<li><a href="#tabs-1">Users</a></li>
			<li><a href="#tabs-2">Testing</a></li>
		</ul>
		<div id="tabs-1">
			<h3>Existing Users</h3>
			<div id="users-contain" class="ui-widget">
				<table id="users" class="ui-widget ui-widget-content">
					<thead>
						<tr class="ui-widget-header ">
							<th>dolazak</th>
							<th>Name</th>
							<th>Email</th>
							<th>Password</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><button class="klikni">X</button></td>
							<td>John Doe</td>
							<td>john.doe@example.com</td>
							<td class="pass">johndoe1</td>
						</tr>
						<tr>
							<td><button class="klikni">X</button></td>
							<td>John Doe</td>
							<td>john.doe@example.com</td>
							<td class="pass">johndoe1</td>
						</tr>
						<tr>
							<td><button class="klikni">X</button></td>
							<td>John Doe</td>
							<td>john.doe@example.com</td>
							<td class="pass">johndoe1</td>
						</tr>

					</tbody>
				</table>
			</div>
		</div>
		<div id="tabs-2">
			<h3>Testing</h3>
			<div id="snaptarget" style="border: 1px solid black">
				<p>Testing</p>
			</div>

			<br style="clear:both">

			<div id="draggable1" class="draggable ui-widget-content">
				<p>AAAA</p>
			</div>

			<div id="draggable2" class="draggable ui-widget-content">
				<p>BBBB</p>
			</div>

			<div id="draggable3" class="draggable ui-widget-content">
				<p>CCCC</p>
			</div>
		</div>
	</div>
	<script>
		$(function () {
			$('#tab').tabs({
				collapisble: false,
				event: 'click'
			}).find('ul').sortable();
			$('#dialog-form').dialog({
				autoOpen: false,
				closeOnEscape: false,
				resizable: false,
				width: 400,
				height: 500,
				show: {
					effect: 'slide',
					duration: 1000
				},
				buttons: {
					'Dodaj': function () {
						let name = $('#name').val();
						let email = $('#email').val();
						let pass = $('#password').val();

						let newRow = `
							<tr>
								<td><button class="klikni">X</button></td>
                    			<td>${name}</td>
                    			<td>${email}</td>
                    			<td class="pass">${pass}</td>
							</tr>	
							`;

						$('tbody').append(newRow);

						$(this).dialog('close');
					},
					'Odustani': function () {
						$(this).dialog('close');
					}
				}
			});
			$('#create-user').on('click', function () {
				$('#dialog-form').dialog('open');
			});

			$(document).on('click', '.klikni', function () {
				$(this).closest('tr').remove();
			});

			$('#brisi_sve').on('click', function () {
				$('#users tbody').empty();
			});

			$('#draggable1').draggable({
				connectToSortable: '#snaptarget',
				revert: 'invalid'
			})

			$('#draggable2').draggable({
				connectToSortable: '#snaptarget',
				revert: 'invalid'
			})

			$('#draggable3').draggable({
				connectToSortable: '#snaptarget',
				revert: 'invalid'
			})

			$('#snaptarget').droppable({
				accept: '#draggable2',
				over: function (event, ui) {
					$(this).css('background-color', 'green');
				},
			})
		})
	</script>

</body>

</html>